import{a1 as R,r as w,a2 as S,R as B,a3 as T,a as v,V as j,j as $,a4 as L,J as q,a5 as I,a6 as F,a7 as H,l as y,a8 as M,a9 as N,aa as Q,ab as C,_ as U}from"./entry.3UVJv6Tg.js";import{u as E}from"./preview.gjqn2V_W.js";function z(e){return Array.isArray(e)?e:[e]}const K=e=>e==="defer"||e===!1;function re(...e){var P;const n=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(n);let[t,i,a={}]=e;if(typeof t!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof i!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const s=$(),r=()=>null,c=()=>s.isHydrating?s.payload.data[t]:s.static.data[t];a.server=a.server??!0,a.default=a.default??r,a.getCachedData=a.getCachedData??c,a.lazy=a.lazy??!1,a.immediate=a.immediate??!0,a.deep=a.deep??R.deep,a.dedupe=a.dedupe??"cancel";const u=()=>![null,void 0].includes(a.getCachedData(t));if(!s._asyncData[t]||!a.immediate){(P=s.payload._errors)[t]??(P[t]=null);const f=a.deep?w:S;s._asyncData[t]={data:f(a.getCachedData(t)??a.default()),pending:w(!u()),error:B(s.payload._errors,t),status:w("idle")}}const o={...s._asyncData[t]};o.refresh=o.execute=(f={})=>{if(s._asyncDataPromises[t]){if(K(f.dedupe??a.dedupe))return s._asyncDataPromises[t];s._asyncDataPromises[t].cancelled=!0}if((f._initial||s.isHydrating&&f._initial!==!1)&&u())return Promise.resolve(a.getCachedData(t));o.pending.value=!0,o.status.value="pending";const p=new Promise((l,d)=>{try{l(i(s))}catch(k){d(k)}}).then(l=>{if(p.cancelled)return s._asyncDataPromises[t];let d=l;a.transform&&(d=a.transform(l)),a.pick&&(d=G(d,a.pick)),s.payload.data[t]=d,o.data.value=d,o.error.value=null,o.status.value="success"}).catch(l=>{if(p.cancelled)return s._asyncDataPromises[t];o.error.value=L(l),o.data.value=q(a.default()),o.status.value="error"}).finally(()=>{p.cancelled||(o.pending.value=!1,delete s._asyncDataPromises[t])});return s._asyncDataPromises[t]=p,s._asyncDataPromises[t]};const m=()=>o.refresh({_initial:!0}),g=a.server!==!1&&s.payload.serverRendered;{const f=I();if(f&&!f._nuxtOnBeforeMountCbs){f._nuxtOnBeforeMountCbs=[];const l=f._nuxtOnBeforeMountCbs;f&&(T(()=>{l.forEach(d=>{d()}),l.splice(0,l.length)}),v(()=>l.splice(0,l.length)))}g&&s.isHydrating&&(o.error.value||u())?(o.pending.value=!1,o.status.value=o.error.value?"error":"success"):f&&(s.payload.serverRendered&&s.isHydrating||a.lazy)&&a.immediate?f._nuxtOnBeforeMountCbs.push(m):a.immediate&&m(),a.watch&&j(a.watch,()=>o.refresh());const p=s.hook("app:data:refresh",async l=>{(!l||l.includes(t))&&await o.refresh()});f&&v(p)}const D=Promise.resolve(s._asyncDataPromises[t]).then(()=>o);return Object.assign(D,o),D}async function ne(e){await new Promise(t=>F(t));const n=e?z(e):void 0;await $().hooks.callHookParallel("app:data:refresh",n)}function G(e,n){const t={};for(const i of n)t[i]=e[i];return t}const b=(e,n)=>n.split(".").reduce((t,i)=>t&&t[i],e),_=(e,n)=>Object.keys(e).filter(n).reduce((t,i)=>Object.assign(t,{[i]:e[i]}),{}),ae=e=>n=>e&&e.length?_(n,t=>!e.includes(t)):n,se=e=>n=>Array.isArray(n)?n.map(t=>e(t)):e(n),O=e=>{const n=[],t=[];for(const i of e)["$","_"].includes(i)?n.push(i):t.push(i);return{prefixes:n,properties:t}},ie=(e=[])=>n=>{if(e.length===0||!n)return n;const{prefixes:t,properties:i}=O(e);return _(n,a=>!i.includes(a)&&!t.includes(a[0]))},oe=(e=[])=>n=>{if(e.length===0||!n)return n;const{prefixes:t,properties:i}=O(e);return _(n,a=>i.includes(a)||t.includes(a[0]))},ce=(e,n)=>{const t=new Intl.Collator(n.$locale,{numeric:n.$numeric,caseFirst:n.$caseFirst,sensitivity:n.$sensitivity}),i=Object.keys(n).filter(a=>!a.startsWith("$"));for(const a of i)e=e.sort((s,r)=>{const c=[b(s,a),b(r,a)].map(u=>{if(u!==null)return u instanceof Date?u.toISOString():u});return n[a]===-1&&c.reverse(),t.compare(c[0],c[1])});return e},ue=(e,n="Expected an array")=>{if(!Array.isArray(e))throw new TypeError(n)},h=e=>Array.isArray(e)?e:[void 0,null].includes(e)?[]:[e],J=["sort","where","only","without"];function V(e,n={}){const t={};for(const r of Object.keys(n.initialParams||{}))t[r]=J.includes(r)?h(n.initialParams[r]):n.initialParams[r];const i=(r,c=u=>u)=>(...u)=>(t[r]=c(...u),s),a=r=>{var c;return n.legacy?r!=null&&r.surround?r.surround:r&&(r!=null&&r.dirConfig&&(r.result={_path:(c=r.dirConfig)==null?void 0:c._path,...r.result,_dir:r.dirConfig}),r!=null&&r._path||Array.isArray(r)||!Object.prototype.hasOwnProperty.call(r,"result")?r:r==null?void 0:r.result):r},s={params:()=>({...t,...t.where?{where:[...h(t.where)]}:{},...t.sort?{sort:[...h(t.sort)]}:{}}),only:i("only",h),without:i("without",h),where:i("where",r=>[...h(t.where),...h(r)]),sort:i("sort",r=>[...h(t.sort),...h(r)]),limit:i("limit",r=>parseInt(String(r),10)),skip:i("skip",r=>parseInt(String(r),10)),find:()=>e(s).then(a),findOne:()=>e(i("first")(!0)).then(a),count:()=>e(i("count")(!0)).then(a),locale:r=>s.where({_locale:r}),withSurround:i("surround",(r,c)=>({query:r,...c})),withDirConfig:()=>i("dirConfig")(!0)};return n.legacy&&(s.findSurround=(r,c)=>s.withSurround(r,c).find().then(a)),s}function A(e){return JSON.stringify(e,W)}function W(e,n){return n instanceof RegExp?`--REGEX ${n.toString()}`:n}const X=e=>{let n=A(e);return n=typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n),n=n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),(n.match(/.{1,100}/g)||[]).join("/")},x=e=>H(e,y().public.content.api.baseURL),le=()=>{throw console.warn("useContent is only accessible when you are using `documentDriven` mode."),console.warn("Learn more by visiting: https://content.nuxt.com/document-driven"),new Error("useContent is only accessible when you are using `documentDriven` mode.")},Y=()=>{const{experimental:e}=y().public.content;return e.clientDB?!0:E().isEnabled()},Z=()=>async e=>{const{content:n}=y().public,t=e.params(),i=n.experimental.stripQueryParameters?x(`/query/${`${C(t)}.${n.integrity}`}/${X(t)}.json`):x(`/query/${C(t)}.${n.integrity}.json`);if(Y())return(await U(()=>import("./client-db.E-2I6QVj.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(r=>r.useContentDatabase())).fetch(e);const a=await $fetch(i,{method:"GET",responseType:"json",params:n.experimental.stripQueryParameters?void 0:{_params:A(t),previewToken:E().getPreviewToken()}});if(typeof a=="string"&&a.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return a};function fe(e,...n){const{content:t}=y().public,i=V(Z(),{initialParams:typeof e!="string"?e:{},legacy:!0});let a;typeof e=="string"&&(a=M(N(e,...n)));const s=i.params;return i.params=()=>{var c,u,o;const r=s();return a&&(r.where=r.where||[],r.first&&(r.where||[]).length===0?r.where.push({_path:Q(a)}):r.where.push({_path:new RegExp(`^${a.replace(/[-[\]{}()*+.,^$\s/]/g,"\\$&")}`)})),(c=r.sort)!=null&&c.length||(r.sort=[{_file:1,$numeric:!0}]),t.locales.length&&((o=(u=r.where)==null?void 0:u.find(g=>g._locale))!=null&&o._locale||(r.where=r.where||[],r.where.push({_locale:t.defaultLocale}))),r},i}export{re as a,ue as b,h as c,ce as d,X as e,se as f,b as g,ie as h,oe as i,A as j,V as k,ae as o,fe as q,ne as r,Y as s,le as u,x as w};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./client-db.E-2I6QVj.js","./entry.3UVJv6Tg.js","./index.1dSrIji7.js","./preview.gjqn2V_W.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}